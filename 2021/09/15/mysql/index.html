<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Li Kun">
    
    <title>
        
            MySQL |
        
        Lk&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.jpg","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"出发，目标彩虹海"},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":true},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Lk&#39;s Blog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                首页
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                归档
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                分类
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                标签
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                关于
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">分类</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">标签</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">关于</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">MySQL</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">Li Kun</span>
                        
                            <span class="author-label">Lv1</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-09-15 15:55:21
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/MySQL/">MySQL</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/MySQL/">MySQL</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <blockquote>
<p>增删改查</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> [<span class="keyword">into</span>] <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [列名] <span class="keyword">values</span> <span class="operator">&lt;</span>列值<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="keyword">where</span> <span class="operator">&lt;</span>删除条件<span class="operator">&gt;</span>] </span><br><span class="line">update <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> <span class="keyword">set</span> <span class="operator">&lt;</span>列名<span class="operator">=</span>更新值<span class="operator">&gt;</span> [<span class="keyword">where</span> <span class="operator">&lt;</span>更新条件<span class="operator">&gt;</span>] </span><br><span class="line"><span class="keyword">select</span> <span class="operator">&lt;</span>列名<span class="operator">&gt;</span> <span class="keyword">from</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span> [<span class="keyword">where</span> <span class="operator">&lt;</span>查询条件表达试<span class="operator">&gt;</span>] [<span class="keyword">order</span> <span class="keyword">by</span> <span class="operator">&lt;</span>排序的列名<span class="operator">&gt;</span>[<span class="keyword">asc</span>或<span class="keyword">desc</span>]] </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span>[<span class="keyword">ALL</span><span class="operator">|</span><span class="keyword">DISTINCT</span><span class="operator">|</span>DISTINCTROW<span class="operator">|</span>TOP] </span><br><span class="line">&#123;<span class="operator">*</span><span class="operator">|</span>talbe.<span class="operator">*</span><span class="operator">|</span>[table.]field1[<span class="keyword">AS</span> alias1][,[table.]field2[<span class="keyword">AS</span> alias2][,…]]&#125; </span><br><span class="line"><span class="keyword">FROM</span> tableexpression[,…][<span class="keyword">IN</span> externaldatabase] </span><br><span class="line">[<span class="keyword">WHERE</span>…] </span><br><span class="line">[<span class="keyword">GROUP</span> <span class="keyword">BY</span>…] </span><br><span class="line">[<span class="keyword">HAVING</span>…] </span><br><span class="line">[<span class="keyword">ORDER</span> <span class="keyword">BY</span>…]    <span class="comment">--升序/降序   order by &lt;列名&gt; asc / order by &lt;列名&gt; desc </span></span><br><span class="line">[<span class="keyword">WITH</span> OWNERACCESS OPTION]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="关于SELECT中的having和where"><a href="#关于SELECT中的having和where" class="headerlink" title="关于SELECT中的having和where"></a><strong>关于SELECT中的having和where</strong></h3></blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">where</span>子句：是在分组之前使用，表示从所有数据中筛选出部分数据，以完成分组的要求，在<span class="keyword">where</span>子句中不允许使用统计函数，没有<span class="keyword">group</span> <span class="keyword">by</span>子句也可以使用。</span><br><span class="line"></span><br><span class="line"><span class="keyword">having</span>子句：是在分组之后使用的，表示对分组统计后的数据执行再次过滤，可以使用统计函数，有<span class="keyword">group</span>  <span class="keyword">by</span>子句之后才可以出现<span class="keyword">having</span>子句。</span><br><span class="line"></span><br><span class="line">误区：不要错误的认为<span class="keyword">having</span>和<span class="keyword">group</span> <span class="keyword">by</span> 必须配合使用。</span><br><span class="line"></span><br><span class="line"><span class="keyword">having</span>和<span class="keyword">where</span>区别：</span><br><span class="line">    <span class="number">1.</span><span class="keyword">having</span>子句中可以使用字段别名，而<span class="keyword">where</span>不能使用</span><br><span class="line">    <span class="number">2.</span><span class="keyword">having</span>能够使用统计函数，但是<span class="keyword">where</span>不能使用</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<blockquote>
<p>truncate 截断</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">truncate</span>命令，清空表</span><br><span class="line"><span class="keyword">truncate</span> <span class="operator">&lt;</span>表名<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">truncate</span> 和<span class="keyword">delete</span>的区别：</span><br><span class="line">    <span class="keyword">truncate</span>重新设置自增列，计数器归零</span><br><span class="line">    <span class="keyword">truncate</span>不会影响事务</span><br></pre></td></tr></table></figure>

<blockquote>
<p>distinct 去重</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> 列名称 <span class="keyword">FROM</span> 表名称</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<blockquote>
<p>多表查询</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SQL</span> <span class="keyword">join</span> 用于把来自两个或多个表的行结合起来。有<span class="number">7</span>种<span class="keyword">join</span>的用法，<span class="keyword">inner</span> <span class="keyword">join</span>，<span class="keyword">left</span> <span class="keyword">join</span>,<span class="keyword">right</span> <span class="keyword">join</span>基础</span><br><span class="line"></span><br><span class="line">在使用<span class="keyword">left</span><span class="operator">/</span><span class="keyword">right</span> jion时，<span class="keyword">on</span>和<span class="keyword">where</span>条件的区别如下：</span><br><span class="line">    <span class="number">1</span>、<span class="keyword">on</span>条件是在生成临时表时使用的条件，它不管<span class="keyword">on</span>中的条件是否为真，都会返回左<span class="operator">/</span>右边表中的记录。</span><br><span class="line">    <span class="number">2</span>、<span class="keyword">where</span>条件是在临时表生成好后，再对临时表进行过滤的条件。这时已经没有<span class="keyword">left</span><span class="operator">/</span><span class="keyword">right</span> <span class="keyword">join</span>的含义（必须返回左<span class="operator">/</span>右边表的记录）了，条件不为真的就全部过滤掉。</span><br><span class="line"></span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> : 左连接，返回左表中所有的记录以及右表中连接字段相等的记录。</span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span> : 右连接，返回右表中所有的记录以及左表中连接字段相等的记录。</span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> : 内连接，又叫等值连接，只返回两个表中连接字段相等的行。</span><br><span class="line"></span><br><span class="line">意会</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<blockquote>
<p>一些函数</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">查看版本号  <span class="keyword">select</span> version()</span><br><span class="line">系统用户    <span class="keyword">select</span> <span class="keyword">user</span>()<span class="operator">/</span><span class="built_in">system_user</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">------数值类函数</span></span><br><span class="line">ABS	        求绝对值</span><br><span class="line">SQRT	    求二次方根</span><br><span class="line">MOD	        求余数</span><br><span class="line">CEIL 和 CEILING	两个函数功能相同，都是返回不小于参数的最小整数，即向上取整</span><br><span class="line">FLOOR	向下取整，返回值转化为一个<span class="type">BIGINT</span></span><br><span class="line">RAND	生成一个<span class="number">0</span><span class="operator">~</span><span class="number">1</span>之间的随机数，传入整数参数是，用来产生重复序列</span><br><span class="line">ROUND	对所传参数进行四舍五入</span><br><span class="line">SIGN	返回参数的符号</span><br><span class="line">POW 和 POWER	两个函数的功能相同，都是所传参数的次方的结果值</span><br><span class="line">SIN	    求正弦值</span><br><span class="line">ASIN	求反正弦值，与函数 SIN 互为反函数</span><br><span class="line">COS	    求余弦值</span><br><span class="line">ACOS	求反余弦值，与函数 COS 互为反函数</span><br><span class="line">TAN	    求正切值</span><br><span class="line">ATAN	求反正切值，与函数 TAN 互为反函数</span><br><span class="line">COT	    求余切值</span><br><span class="line"></span><br><span class="line"><span class="comment">---字符串函数</span></span><br><span class="line">LENGTH	计算字符串长度函数，返回字符串的字节长度</span><br><span class="line"><span class="keyword">char_length</span> 获取字符串长度</span><br><span class="line">    <span class="number">1</span>）、length()：mysql里面的length()函数是一个用来获取字符串长度的内置函数。</span><br><span class="line">　　<span class="number">2</span>）、<span class="keyword">char_length</span>()：在mysql内置函数里面查看字符串长度的还有一个函数是<span class="keyword">char_length</span>()。</span><br><span class="line">　　<span class="number">3</span>）、这两个函数的区别是：</span><br><span class="line">　　　　a）、length()： 单位是字节，utf8编码下,一个汉字三个字节，一个数字或字母一个字节。gbk编码下,一个汉字两个字节，一个数字或字母一个字节。</span><br><span class="line">　　　　b）、<span class="keyword">char_length</span>()：单位为字符，不管汉字还是数字或者是字母都算是一个字符。</span><br><span class="line">CONCAT	合并字符串函数，返回结果为连接参数产生的字符串，参数可以使一个或多个</span><br><span class="line"><span class="keyword">INSERT</span>	替换字符串函数   <span class="keyword">insert</span>(开始下标，替换长度，替换字符)</span><br><span class="line">instr   返回第一次出现字串的索引</span><br><span class="line">LOWER	将字符串中的字母转换为小写</span><br><span class="line">UPPER	将字符串中的字母转换为大写</span><br><span class="line"><span class="keyword">LEFT</span>	从左侧字截取符串，返回字符串左边的若干个字符</span><br><span class="line"><span class="keyword">RIGHT</span>	从右侧字截取符串，返回字符串右边的若干个字符</span><br><span class="line">TRIM	删除字符串左右两侧的空格</span><br><span class="line">REPLACE	字符串替换函数，返回替换后的新字符串</span><br><span class="line">SUBSTRING	截取字符串，返回从指定位置开始的指定长度的字符换</span><br><span class="line">REVERSE	字符串反转（逆序）函数，返回与原始字符串顺序相反的字符串</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--日期函数</span></span><br><span class="line">CURDATE 和 <span class="built_in">CURRENT_DATE</span>	两个函数作用相同，返回当前系统的日期值</span><br><span class="line">CURTIME 和 <span class="built_in">CURRENT_TIME</span>	两个函数作用相同，返回当前系统的时间值</span><br><span class="line">NOW 和  SYSDATE	两个函数作用相同，返回当前系统的日期和时间值</span><br><span class="line">UNIX_TIMESTAMP	获取UNIX时间戳函数，返回一个以 UNIX 时间戳为基础的无符号整数</span><br><span class="line">FROM_UNIXTIME	将 UNIX 时间戳转换为时间格式，与UNIX_TIMESTAMP互为反函数</span><br><span class="line"><span class="keyword">MONTH</span>	获取指定日期中的月份</span><br><span class="line">MONTHNAME	获取指定日期中的月份英文名称</span><br><span class="line">DAYNAME	获取指定曰期对应的星期几的英文名称</span><br><span class="line">DAYOFWEEK	获取指定日期对应的一周的索引位置值</span><br><span class="line">WEEK	获取指定日期是一年中的第几周，返回值的范围是否为 <span class="number">0</span>〜<span class="number">52</span> 或 <span class="number">1</span>〜<span class="number">53</span></span><br><span class="line">DAYOFYEAR	获取指定曰期是一年中的第几天，返回值范围是<span class="number">1</span><span class="operator">~</span><span class="number">366</span></span><br><span class="line">DAYOFMONTH	获取指定日期是一个月中是第几天，返回值范围是<span class="number">1</span><span class="operator">~</span><span class="number">31</span></span><br><span class="line"><span class="keyword">YEAR</span>	获取年份，返回值范围是 <span class="number">1970</span>〜<span class="number">2069</span></span><br><span class="line">TIME_TO_SEC	将时间参数转换为秒数</span><br><span class="line">SEC_TO_TIME	将秒数转换为时间，与TIME_TO_SEC 互为反函数</span><br><span class="line">DATE_ADD 和 ADDDATE	两个函数功能相同，都是向日期添加指定的时间间隔</span><br><span class="line">DATE_SUB 和 SUBDATE	两个函数功能相同，都是向日期减去指定的时间间隔</span><br><span class="line">ADDTIME	时间加法运算，在原始时间上添加指定的时间</span><br><span class="line">SUBTIME	时间减法运算，在原始时间上减去指定的时间</span><br><span class="line">DATEDIFF	获取两个日期之间间隔，返回参数 <span class="number">1</span> 减去参数 <span class="number">2</span> 的值</span><br><span class="line">DATE_FORMAT	格式化指定的日期，根据参数返回指定格式的值</span><br><span class="line">WEEKDAY	获取指定日期在一周内的对应的工作日索引</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">---聚合函数</span></span><br><span class="line">MAX	查询指定列的最大值</span><br><span class="line">MIN	查询指定列的最小值</span><br><span class="line">COUNT	统计查询结果的行数</span><br><span class="line">    <span class="number">1</span>)<span class="built_in">count</span>(<span class="operator">*</span>)、<span class="built_in">count</span>(<span class="number">1</span>)、<span class="built_in">count</span>(列名)区别</span><br><span class="line">         <span class="built_in">count</span>(字段) 会统计该字段在表中出现的次数，忽略字段为<span class="keyword">null</span> 的情况。即不统计字段为<span class="keyword">null</span> 的记录。</span><br><span class="line">         <span class="built_in">count</span>(<span class="operator">*</span>)包括了所有的列，相当于行数，在统计结果的时候，不会忽略列值为<span class="keyword">NULL</span></span><br><span class="line">         <span class="built_in">count</span>(<span class="number">1</span>)包括了忽略所有列，用<span class="number">1</span>代表代码行，在统计结果的时候，不会忽略列值为<span class="keyword">NULL</span></span><br><span class="line">    <span class="number">2</span>)执行效率</span><br><span class="line">        列名为主键，<span class="built_in">count</span>(列名)会比<span class="built_in">count</span>(<span class="number">1</span>)快</span><br><span class="line">        列名不为主键，<span class="built_in">count</span>(<span class="number">1</span>)会比<span class="built_in">count</span>(列名)快</span><br><span class="line">        如果表多个列并且没有主键，则 count（<span class="number">1</span>） 的执行效率优于 count（<span class="operator">*</span>）</span><br><span class="line">        如果有主键，则 <span class="keyword">select</span> count（主键）的执行效率是最优的</span><br><span class="line">        如果表只有一个字段，则 <span class="keyword">select</span> count（<span class="operator">*</span>）最优。</span><br><span class="line">        《注：这三种区别好像并不大，暂不讨论》</span><br><span class="line">        </span><br><span class="line">SUM	求和，返回指定列的总和</span><br><span class="line">AVG	求平均值，返回指定列数据的平均值</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<blockquote>
<h3 id="事务-（重要）"><a href="#事务-（重要）" class="headerlink" title="==事务== （重要）"></a>==事务== （重要）</h3></blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. MySQL是默认开启事务的</span><br><span class="line">2.直接用 SET 来改变 MySQL 的自动提交模式:</span><br><span class="line">    SET AUTOCOMMIT=0 禁止自动提交</span><br><span class="line">    SET AUTOCOMMIT=1 开启自动提交</span><br></pre></td></tr></table></figure>
<p>事务：</p>
<pre><code>* 事务处理可以用来维护数据库的完整性，保证成批的 SQL 语句要么全部执行，要么全部不执行。
* MySQL 中只有使用了 Innodb 数据库引擎的数据库或表才支持事务。
</code></pre>
<p>事务管理：ACID</p>
<pre><code>* 原子性 Atomicity：一个事务（transaction）中的所有操作，要么全部完成，要么全部不完成，不会结束在中间某个环节。事务在执行过程中发生错误，会被回滚（Rollback）到事务开始前的状态，就像这个事务从来没有执行过一样。

* 一致性 Consistency：在事务开始之前和事务结束以后，数据库的完整性没有被破坏。这表示写入的资料必须完全符合所有的预设规则，这包含资料的精确度、串联性以及后续数据库可以自发性地完成预定的工作。（既，事务前后数据的完整性要保持一致）

* 隔离性 Isolation：数据库允许多个并发事务同时对其数据进行读写和修改的能力，隔离性可以防止多个事务并发执行时由于交叉执行而导致数据的不一致。事务隔离分为不同级别，包括读未提交（Read uncommitted）、读提交（read committed）、可重复读（repeatable read）和串行化（Serializable）。

* 持久性 Durability：事务处理结束后，对数据的修改就是永久的，即便系统故障也不会丢失。
</code></pre>
<p>事务的隔离级别问题：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">脏读：一个事务读取到另外一个未提交事务的数据</span><br><span class="line">   </span><br><span class="line">不可重复读：在一个事务内读取表中的某一行数据，多次读取结果不同。（这个不一定是错误，只是某些场合不对）</span><br><span class="line">  </span><br><span class="line">虚读(幻读)：是指在一个事务内读取到了别的事务插入的数据，导致前后读取数量总量不一致。</span><br></pre></td></tr></table></figure>

<blockquote>
<h3 id="索引-（重要）"><a href="#索引-（重要）" class="headerlink" title="索引 （重要）"></a>索引 （重要）</h3></blockquote>
<p>索引： MySQL索引的建立对于MySQL的高效运行是很重要的，索引可以大大提高MySQL的检索速度。</p>
<p>索引分类</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">主键索引:</span><br><span class="line">唯一索引：</span><br><span class="line">常规索引：</span><br><span class="line">全文索引：</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>三大范式</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1NF:要求数据库表的每一列都是不可分割的原子数据项。</span><br><span class="line"></span><br><span class="line">2NF:在1NF的基础上，非码属性必须完全依赖于候选码（在1NF基础上消除非主属性对主码的部分函数依赖）</span><br><span class="line"></span><br><span class="line">3NF:在2NF基础上，任何非主属性不依赖于其它非主属性（在2NF基础上消除传递依赖）</span><br><span class="line"></span><br></pre></td></tr></table></figure>





        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>Post title：MySQL</li>
        <li>Post author：Li Kun</li>
        <li>Create time：2021-09-15 15:55:21</li>
        <li>
            Post link：https://7675k.github.io/2021/09/15/mysql/
        </li>
        <li>
            Copyright Notice：All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.
        </li>
    </ul>
</div>

            </div>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2021/09/19/SingleLinkedList/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">单链表基本操作实现</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>&nbsp;-&nbsp;
            
            2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Li Kun</a>
        </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a>
        </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E4%BA%8ESELECT%E4%B8%AD%E7%9A%84having%E5%92%8Cwhere"><span class="nav-text">关于SELECT中的having和where</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1-%EF%BC%88%E9%87%8D%E8%A6%81%EF%BC%89"><span class="nav-text">&#x3D;&#x3D;事务&#x3D;&#x3D; （重要）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95-%EF%BC%88%E9%87%8D%E8%A6%81%EF%BC%89"><span class="nav-text">索引 （重要）</span></a></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/code-copy.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/lazyload.js"></script>


<div class="post-scripts">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/toc.js"></script>
    
</div>



</body>
</html>
